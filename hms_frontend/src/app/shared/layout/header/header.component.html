<header class="header">
      <div class="container">
        <div class="header-content">
          <a routerLink="/" class="logo">
            <h1>Hotel Management</h1>
          </a>
          <nav class="nav">
            <a routerLink="/" class="nav-link">Trang chủ</a>
            @if (isAuthenticated()) {
              <div class="user-menu-wrapper">
                <div class="user-menu" (click)="toggleUserDropdown()">
                  <span class="user-name">{{ username() }}</span>
                  <i class="fa-solid fa-chevron-down" [class.rotate]="showUserDropdown"></i>
                </div>

                <div class="dropdown-menu" *ngIf="showUserDropdown">
                  <div class="dropdown-header">
                    <p class="dropdown-name">{{ username() }}</p>
                    <p class="dropdown-role">{{ userRole() }}</p>
                  </div>

                  <div class="dropdown-divider"></div>

                  @if (userRole() === 'ADMIN' || userRole() === 'STAFF' || userRole() === 'MANAGER') {
                    <a class="dropdown-item" (click)="goToDashboard()">
                      <i class="fa-solid fa-gauge"></i>
                      <span>Dashboard {{ userRole() }}</span>
                    </a>
                  } @else {
                    <a class="dropdown-item" routerLink="/my-reservations" (click)="showUserDropdown = false">
                      <i class="fa-solid fa-calendar-check"></i>
                      <span>Đặt phòng của tôi</span>
                    </a>
                  }

                  <a class="dropdown-item" (click)="goToProfile()">
                    <i class="fa-solid fa-user"></i>
                    <span>Thông tin cá nhân</span>
                  </a>

                  <div class="dropdown-divider"></div>

                  <a class="dropdown-item logout" (click)="logout()">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span>Đăng xuất</span>
                  </a>
                </div>
              </div>
            } @else {
              <a routerLink="/login" class="nav-link">Đăng nhập</a>
              <a routerLink="/register" class="nav-link btn-register">Đăng ký</a>
            }
          </nav>
        </div>
      </div>

      <div class="dropdown-backdrop" *ngIf="showUserDropdown" (click)="showUserDropdown = false"></div>
    </header>